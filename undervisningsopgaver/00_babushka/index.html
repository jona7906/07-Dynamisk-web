<!DOCTYPE html>
<html lang="da">

<head>
    <meta charset="utf-8">
    <meta name="viewport" content="width=device-width, initial-scale=1.0">
    <title></title>
    <link rel="stylesheet" href="">

    <style>
        main {
            display: grid;
            grid-template-columns: repeat(auto-fill, minmax(200px, 2fr));
            grid-gap: 2vw;
            max-width: 1080px;
            margin: 0 auto;
        }

        header {
            text-align: center;
        }

        img {
            max-width: 100%;
        }

        article {
            border: 2px solid grey;
        }
    </style>
</head>

<body>
    <header>
        <img src="" alt="">
        <nav>
            <button>Alle</button>
            <button>Forretter</button>
            <button>Hovedretter</button>
            <button>Desserter</button>
            <button>Drikkevarer</button>
            <button>Tilbeh√∏r</button>
        </nav>

    </header>
    <br>
    <main>




    </main>

    <template>
        <article>
            <img src="" alt="">
            <h3></h3>
            <p></p>
            <p></p>
        </article>
    </template>


    <script>
        document.addEventListener("DOMContentLoaded", () => //tjekker inden om DOM er loaded
            {
                const url = "https://babushka-dd8a.restdb.io/rest/menu";
                const options = {
                    headers: {
                        'x-apikey': "600ec2fb1346a1524ff12de4"
                    }
                }



                async function hentData() {
                    const respons = await fetch(url, options);
                    const json = await respons.json();
                    vis(json);
                }

                hentData();

                function vis(json) {
                    console.log(json);
                    const retter = document.querySelector("main");
                    const template = document.querySelector("template");
                    const imgURL = "https://babushka-dd8a.restdb.io/media/";

                    retter.textContent = "";
                    json.forEach(ret => {
                        if (filter == ret.kategori || filter == "alle") {

                            console.log("ret: " + ret.kategori);

                            const klon = template.cloneNode(true).content;

                            klon.querySelector("h3").textContent = ret.navn;

                            klon.querySelector("img").src = imgURL + ret.billede[0];

                            klon.querySelector("p").textContent = ret.kortbeskrivelse;

                            klon.querySelector("p+p").textContent = ret.pris + " kr,-";

                            retter.appendChild(klon);
                        }
                    })

                }

                let filter = "alle";
                const filterknapper = document.querySelectorAll("nav button");

                filterknapper.forEach(knap => knap.addEventListener("click", filtrerRetter));

                function filtrerRetter() {
                    console.log("filtrering");
                }






            })
    </script>
</body></html>
